"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};function makeBase64(file,callback){var reader=new FileReader;reader.readAsDataURL(file),reader.onload=function(){callback(reader.result.split(",")[1])},reader.onerror=function(error){}}function readFile(input){$("form div > span").hide(),$("form div > input[type=file]").hide(),$("form div > img").show();var reader=new FileReader;reader.onload=function(e){"image/jpeg"==input.files[0].type||"image/jpg"==input.files[0].type||"image/png"==input.files[0].type?$("form div > img").attr("src",e.target.result):alert("Загрузите изображение")},reader.readAsDataURL(input.files[0])}function urltoFile(url,filename,mimeType){return fetch(url).then(function(res){return res.arrayBuffer()}).then(function(buf){return new File([buf],filename,{type:mimeType})})}function setTop(translations,callback){$(".topItems .eye-container-full").html(""),translations.sort(compareTranslation);for(var html="",i=translations.length;0<i;i--)"0"!=translations[i-1].type?translations[i-1].userAvatar=translations[i-1].avatar.includes("http")?translations[i-1].avatar:"https://eyeinc.ru/api/assets/avatar/"+translations[i-1].avatar:translations[i-1].userAvatar=translations[i-1].preview,translations[i-1].address||(translations[i-1].address=""),translations[i-1].name||(translations[i-1].name=""),html+='<div class="eye-x-12 eye-m-3"><div onclick="openAccount('+translations[i-1].id+')" class="text-center objectItem"><img src="'+translations[i-1].userAvatar+'"/><p class="objectName">'+translations[i-1].name+'</p><ul class="list-inline objectStat"><li><i class="icon icon-eye-like"></i>'+translations[i-1].likes+'</li><li><i class="icon icon-eye-view"></i>'+translations[i-1].watchers+'</li><li><i class="icon icon-eye-plus"></i>'+translations[i-1].followers+"</li></ul></div></div>";$(".topItems .eye-container-full").html(html),callback()}function openAccount(id){angular.element(document.body).scope().getUserDataById(id),angular.element(document.body).scope().isShowTop=!1,angular.element(".openToggle i").removeClass("icon-eye-opentop"),angular.element(".openToggle i").addClass("icon-eye-closetop")}function isMobileDevice(){return!!navigator.userAgent.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i)}"object"==_typeof(navigator.userAgent.match(/Chrome|Firefox/i))&&null==navigator.userAgent.match(/Chrome|Firefox/i)&&$("#header p").hide(),$("body").on("click",function(){$('#appForms input[name="login"]').mask("0(000)000-00-00"),$('#appForms input[name="calls"]').mask("0(000)000-00-00")}),$(document).on("click","#userPanel nav ul li",function(){$(this).attr("data-panel")==$("#userPanel nav ul").attr("data-clicked")&&$("#panel").toggleClass("ng-hide"),$("#chat").hasClass("ng-hide")||$("#panel").hasClass("ng-hide")||(isMobileDevice()?$("#chat").css({marginLeft:MOBILELEFTASIDEWIDTH+INFOPANELWIDTH,width:$("body").outerWidth()-MOBILELEFTASIDEWIDTH-INFOPANELWIDTH-RIGHTASIDEWIDTH}):$("#chat").css({marginLeft:LEFTASIDEWIDTH+INFOPANELWIDTH,width:$("body").outerWidth()-LEFTASIDEWIDTH-INFOPANELWIDTH-RIGHTASIDEWIDTH}),$("#chat input").css({width:"65%"})),$("#userPanel nav ul").attr("data-clicked",$(this).attr("data-panel"))}),$(document).on("click",".filters li a",function(){$(this).toggleClass("active")});